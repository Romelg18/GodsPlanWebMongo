{% extends "layout.html" %}
{% block title %}Lista de Libros{% endblock %}

{% block content %}
<div class="card p-4">
  <h3 class="mb-4"><i class="bi bi-journal-richtext"></i> Libros de Catequesis</h3>

  <table class="table table-bordered table-hover">
    <thead class="table-dark">
      <tr>
        <th>#</th>
        <th>TÃ­tulo</th>
        <th>Autor</th>
        <th>Niveles</th>
        <th>Estudiantes</th>
      </tr>
    </thead>
    <tbody>
      {% for libro in libros %}
      <tr>
        <td>{{ loop.index }}</td>
        <td>{{ libro.titulo }}</td>
        <td>{{ libro.autor }}</td>
        <td>
          {% if libro.nivel %}
            <ul class="mb-0">
              {% for n in libro.nivel %}
                <li>{{ n.nombre }}</li>
              {% endfor %}
            </ul>
          {% else %}
            <em>Sin nivel</em>
          {% endif %}
        </td>
        <td>
          {% if libro.estudiante %}
            <ul class="mb-0">
              {% for e in libro.estudiante %}
                <li>{{ e.nombre }}</li>
              {% endfor %}
            </ul>
          {% else %}
            <em>Sin estudiante</em>
          {% endif %}
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}